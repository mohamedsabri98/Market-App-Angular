<div class="mt-4">
  <div class="my-2 w-25">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-outline-success m-2" data-toggle="modal" data-target="#exampleModal">
      add new product </button>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form [formGroup]="form">
              <div class="row">
                <div class="col-md-4 col-sm-12">
                  <label for="">Title</label>
                  <input type="text" class="form-control" placeholder="title" formControlName="title">
                </div>
                <div class="col-md-4 col-sm-12">
                  <label for="">Price</label>
                  <input type="number" class="form-control" placeholder="price" formControlName="price">
                </div>
                <div class="col-md-4 col-sm-12">
                  <label for="">Category</label>
                  <app-select [data]="categories" (selectedValue)="getSelctedCategries($event)" [all]="false"
                    [select]="form.value.caregory" />
                </div>
                <div class="col-md-4 col-sm-12">
                  <label for="">Image</label>
                  <img src="" alt="">
                  <input type="file" class="form-control" (change)="getImagePath($event)">
                </div>
                <div class="col-md-8 col-sm-12">
                  <label for="">Description</label>
                  <img src="{{base64Url}}" alt="">
                  <textarea class="form-control" placeholder="type here ....." formControlName="description"></textarea>
                </div>
                <div class="m-3">
                  <button class="btn btn-success mt-3" (click)="addProduct()" [disabled]="!form.valid">add
                    product</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="!spinner">
    <div class="col-md-3 col-sm-12">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Category</th>
            <th>price</th>
            <th></th>
          </tr>
        </thead>
        <tbody *ngFor="let product of products">
          <tr>
            <td><img src="{{product.image}}" alt=""></td>
            <td>{{product.title}}</td>
            <td>{{product.category}}</td>
            <td>{{product.price}} L.E</td>
            <td><button type="button" class="btn btn-warning m-2" data-toggle="modal" data-target="#exampleModal"
                (click)="updateProduct(product)">
                update</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="text-center w-100" *ngIf="spinner">
    <app-spinner />
  </div>
</div>
